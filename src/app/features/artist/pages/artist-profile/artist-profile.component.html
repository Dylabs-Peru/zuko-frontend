<div class="profile-container" *ngIf="artist; else loading">
    <h1 class="profile-title">{{ isOwnArtistProfile ? 'Mi Perfil' : 'Perfil de Artista' }}</h1>
  
    <div class="profile-header">
      <div class="profile-avatar">
        <img *ngIf="artist.urlImage; else defaultAvatar" [src]="artist.urlImage" alt="Foto de perfil">
        <ng-template #defaultAvatar>
          <div class="avatar-placeholder">&#128100;</div>
        </ng-template>
      </div>
  
      <div class="profile-info">
        <span class="role">Artista</span>
        <div class="profile-name">{{ artist.name || 'Nombre de Usuario' }}</div>
        <div class="profile-email">{{ userEmail || 'Artista registrado' }}</div>
        <div class="profile-country">{{ artist.country || 'País' }}</div>
      </div>
  
      <div class="profile-actions" *ngIf="isOwnArtistProfile">
        <div class="profile-dots" (click)="onEditDotsClick()" title="Editar artista">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>
  
    <div class="profile-menu-bar">
      <nav class="profile-menu">
        <a class="menu-item" [class.active]="!showAlbumsSection" (click)="showAlbumsSection = false; $event.preventDefault()" href="#">Biografía</a>
        <a class="menu-item" [class.active]="showAlbumsSection" (click)="showAlbumsSection = true; $event.preventDefault()" href="#">Mis Álbumes</a>
        <a class="menu-item" href="#" (click)="$event.preventDefault()">Mis Canciones</a>
      </nav>
      <button class="circle create-album-btn" (click)="onCreateAlbumClick()" title="Crear álbum">
        <span class="plus"></span>
      </button>
      <app-create-album-modal
        [show]="showCreateAlbumModal"
        (close)="closeCreateAlbumModal()"
        (albumCreated)="onAlbumCreated($event)">
      </app-create-album-modal>
    </div>

    <ng-container *ngIf="showAlbumsSection && artist?.id">
      <app-artist-albums-list [artistId]="artist.id"></app-artist-albums-list>
    </ng-container>
  
    <section class="profile-bio-section" *ngIf="!showAlbumsSection">
      <label class="bio-label">Biografía</label>
      <div class="profile-bio">
        {{ artist.biography || 'Biografía del usuario' }}
      </div>
    </section>
  </div>

  <app-edit-artist-profile-modal
    *ngIf="showEditModal"
    [name]="artist?.name"
    [biography]="artist?.biography"
    [country]="artist?.country"
    [urlImage]="artist?.urlImage"
    (save)="onSaveArtistProfile($event)"
    (close)="showEditModal = false"
  ></app-edit-artist-profile-modal>
  
  <ng-template #loading>
    <div class="no-user">Cargando perfil del artista...</div>
  </ng-template>
  